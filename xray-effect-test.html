<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Efekt Prze≈õwietlania Produktu - X-Ray</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        .canvas-wrapper {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        canvas {
            display: block;
            width: 100%;
            height: auto;
            cursor: none;
            background: #1a1a1a;
        }

        .info {
            color: white;
            text-align: center;
            margin-top: 30px;
            font-size: 16px;
            opacity: 0.9;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.6;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 40px;
            font-size: 42px;
            font-weight: 700;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            letter-spacing: -1px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .control-btn.active {
            background: rgba(0, 255, 255, 0.4);
            border-color: #00ffff;
        }

        .slider-control {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .slider-control label {
            color: white;
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
        }

        input[type="range"] {
            width: 200px;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #00ffff;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #00ffff;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .value-display {
            display: inline-block;
            min-width: 50px;
            text-align: center;
            color: #00ffff;
            font-weight: bold;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Efekt Prze≈õwietlania Produktu X-Ray</h1>
        <div class="canvas-wrapper">
            <canvas id="xrayCanvas"></canvas>
        </div>
        <div class="controls">
            <button class="control-btn" id="toggleAutoMove">‚è∏ Zatrzymaj auto-ruch</button>
            <div class="slider-control">
                <label>
                    Rozmiar maski: <span class="value-display" id="radiusValue">150</span>px
                </label>
                <input type="range" id="radiusSlider" min="50" max="300" value="150">
            </div>
            <div class="slider-control">
                <label>
                    Prƒôdko≈õƒá: <span class="value-display" id="speedValue">2</span>
                </label>
                <input type="range" id="speedSlider" min="1" max="10" value="2">
            </div>
        </div>
        <div class="info">
            ‚ú® Przesu≈Ñ mysz nad obrazem aby zobaczyƒá efekt prze≈õwietlenia ‚ú®<br>
            Gdy mysz opu≈õci obszar, maska bƒôdzie siƒô poruszaƒá automatycznie<br><br>
            
            <div id="imageStatus" style="margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                <strong>üìÅ Status obraz√≥w:</strong><br>
                <span id="statusText">Szukam obraz√≥w z Figma...</span>
            </div>
            
            <div style="margin: 20px 0;">
                <strong>üéØ Sposoby dodania obraz√≥w:</strong><br>
                <div style="margin: 10px 0;">
                    <strong>Metoda 1 - PrzeciƒÖgnij i upu≈õƒá:</strong><br>
                    <div id="dropZone" style="border: 2px dashed #00ffff; padding: 20px; margin: 10px 0; border-radius: 10px; background: rgba(0,255,255,0.1);">
                        PrzeciƒÖgnij tutaj obrazy z Figma<br>
                        <small>Oczekiwane nazwy: paleta-normal.jpg i paleta-xray.jpg</small>
                    </div>
                </div>
                
                <div style="margin: 10px 0;">
                    <strong>Metoda 2 - Rƒôczne dodanie:</strong><br>
                    1. Zapisz obrazy jako: <code>paleta-normal.jpg</code> i <code>paleta-xray.jpg</code><br>
                    2. Umie≈õƒá je w folderze: <code>public/images/</code><br>
                    3. Od≈õwie≈º stronƒô
                </div>
            </div>
        </div>
    </div>

    <script>
        class XRayEffect {
            constructor(canvasId) {
                this.canvas = document.getElementById(canvasId);
                this.ctx = this.canvas.getContext('2d');
                
                // Pozycja i parametry maski (okrƒôgu)
                this.maskX = 0;
                this.maskY = 0;
                this.maskRadius = 150;
                this.targetX = 0;
                this.targetY = 0;
                this.smoothing = 0.12;
                
                // Automatyczny ruch
                this.autoMove = true;
                this.autoMoveSpeed = 0.02;
                this.autoMoveAngle = 0;
                this.autoMoveRadius = 120;
                
                // Obrazy
                this.normalImage = null;
                this.xrayImage = null;
                this.imagesLoaded = 0;
                
                // Animacja
                this.animationFrame = null;
                
                this.init();
            }
            
            init() {
                this.createPlaceholderImages();
                
                // Event listeners
                this.canvas.addEventListener('mousemove', (e) => this.handleMouseMove(e));
                this.canvas.addEventListener('mouseenter', () => {
                    this.autoMove = false;
                    this.updateAutoMoveButton();
                });
                this.canvas.addEventListener('mouseleave', () => {
                    this.autoMove = true;
                    this.updateAutoMoveButton();
                });
                
                window.addEventListener('resize', () => this.handleResize());
                
                // Dodaj funkcjonalno≈õƒá przeciƒÖgania obraz√≥w
                this.setupDragAndDrop();
            }
            
            setupDragAndDrop() {
                const dropZone = document.getElementById('dropZone');
                const statusText = document.getElementById('statusText');
                
                dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    dropZone.style.background = 'rgba(0,255,255,0.2)';
                });
                
                dropZone.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    dropZone.style.background = 'rgba(0,255,255,0.1)';
                });
                
                dropZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    dropZone.style.background = 'rgba(0,255,255,0.1)';
                    
                    const files = e.dataTransfer.files;
                    this.handleDroppedFiles(files);
                });
            }
            
            handleDroppedFiles(files) {
                const statusText = document.getElementById('statusText');
                let normalImageFile = null;
                let xrayImageFile = null;
                
                // Znajd≈∫ odpowiednie pliki
                for (let file of files) {
                    const name = file.name.toLowerCase();
                    if (name.includes('normal') || name.includes('paleta')) {
                        normalImageFile = file;
                    } else if (name.includes('xray') || name.includes('x-ray')) {
                        xrayImageFile = file;
                    }
                }
                
                if (normalImageFile && xrayImageFile) {
                    statusText.textContent = '‚úÖ Znaleziono oba obrazy! ≈Åadowanie...';
                    this.loadImagesFromFiles(normalImageFile, xrayImageFile);
                } else {
                    statusText.textContent = '‚ùå Potrzebujƒô dw√≥ch obraz√≥w: jeden z "normal" w nazwie, drugi z "xray"';
                }
            }
            
            loadImagesFromFiles(normalFile, xrayFile) {
                const statusText = document.getElementById('statusText');
                
                // Za≈Çaduj normalny obraz
                const normalReader = new FileReader();
                normalReader.onload = (e) => {
                    this.normalImage.src = e.target.result;
                    statusText.textContent = '‚úÖ Za≈Çadowano obraz normalny, ≈Çadowanie X-Ray...';
                };
                normalReader.readAsDataURL(normalFile);
                
                // Za≈Çaduj obraz X-Ray
                const xrayReader = new FileReader();
                xrayReader.onload = (e) => {
                    this.xrayImage.src = e.target.result;
                    statusText.textContent = '‚úÖ Oba obrazy za≈Çadowane! Animacja gotowa.';
                };
                xrayReader.readAsDataURL(xrayFile);
            }
            
            createPlaceholderImages() {
                // Sprawd≈∫ czy obrazy istniejƒÖ w folderze
                this.checkForCustomImages();
            }
            
            checkForCustomImages() {
                const statusText = document.getElementById('statusText');
                statusText.textContent = 'üîç Szukam obraz√≥w z Figma...';
                
                // Pr√≥ba za≈Çadowania prawdziwych obraz√≥w z Figma
                this.normalImage = new Image();
                this.normalImage.onload = () => {
                    console.log('‚úÖ Za≈Çadowano obraz palety z Figma');
                    statusText.textContent = '‚úÖ Znaleziono obraz palety, szukam X-Ray...';
                    this.onImageLoad();
                };
                this.normalImage.onerror = () => {
                    console.log('‚ùå Nie znaleziono obrazu palety, tworzƒô placeholder');
                    statusText.textContent = '‚ùå Nie znaleziono obraz√≥w z Figma, u≈ºywam placeholder√≥w';
                    this.createFallbackImages();
                };
                
                this.xrayImage = new Image();
                this.xrayImage.onload = () => {
                    console.log('‚úÖ Za≈Çadowano obraz X-Ray z Figma');
                    statusText.textContent = '‚úÖ Oba obrazy z Figma za≈Çadowane!';
                    this.onImageLoad();
                };
                this.xrayImage.onerror = () => {
                    console.log('‚ùå Nie znaleziono obrazu X-Ray, tworzƒô placeholder');
                    statusText.textContent = '‚ùå Nie znaleziono obraz√≥w z Figma, u≈ºywam placeholder√≥w';
                    this.createFallbackImages();
                };
                
                // Pr√≥ba za≈Çadowania obraz√≥w z r√≥≈ºnych mo≈ºliwych lokalizacji
                const possiblePaths = [
                    './public/images/paleta-normal.jpg',
                    './images/paleta-normal.jpg',
                    './paleta-normal.jpg',
                    'paleta-normal.jpg'
                ];
                
                const xrayPaths = [
                    './public/images/paleta-xray.jpg',
                    './images/paleta-xray.jpg',
                    './paleta-xray.jpg',
                    'paleta-xray.jpg'
                ];
                
                // Spr√≥buj za≈Çadowaƒá pierwszy dostƒôpny obraz
                this.tryLoadImage(this.normalImage, possiblePaths);
                this.tryLoadImage(this.xrayImage, xrayPaths);
            }
            
            tryLoadImage(imageElement, paths) {
                let currentIndex = 0;
                
                const tryNext = () => {
                    if (currentIndex >= paths.length) {
                        // Wszystkie ≈õcie≈ºki wypr√≥bowane, u≈ºyj fallback
                        imageElement.onerror();
                        return;
                    }
                    
                    imageElement.src = paths[currentIndex];
                    currentIndex++;
                };
                
                // Spr√≥buj pierwszƒÖ ≈õcie≈ºkƒô
                tryNext();
            }
            
            createFallbackImages() {
                // Fallback - je≈õli obrazy nie zostanƒÖ za≈Çadowane, u≈ºyj placeholder√≥w
                if (this.normalImage.complete && this.normalImage.naturalWidth === 0) {
                    const tempCanvas1 = document.createElement('canvas');
                    tempCanvas1.width = 1000;
                    tempCanvas1.height = 700;
                    const tempCtx1 = tempCanvas1.getContext('2d');
                    
                    // T≈Ço z gradientem
                    const gradient1 = tempCtx1.createLinearGradient(0, 0, 1000, 700);
                    gradient1.addColorStop(0, '#2193b0');
                    gradient1.addColorStop(1, '#6dd5ed');
                    tempCtx1.fillStyle = gradient1;
                    tempCtx1.fillRect(0, 0, 1000, 700);
                    
                    // Paleta z produktami
                    tempCtx1.fillStyle = 'rgba(139, 90, 43, 0.8)';
                    tempCtx1.fillRect(150, 150, 700, 400);
                    
                    // Produkty (pude≈Çka)
                    for (let i = 0; i < 4; i++) {
                        for (let j = 0; j < 3; j++) {
                            const x = 200 + i * 160;
                            const y = 200 + j * 120;
                            
                            // Cie≈Ñ
                            tempCtx1.fillStyle = 'rgba(0, 0, 0, 0.3)';
                            tempCtx1.fillRect(x + 5, y + 5, 120, 80);
                            
                            // Pude≈Çko
                            const boxGradient = tempCtx1.createLinearGradient(x, y, x + 120, y + 80);
                            boxGradient.addColorStop(0, '#f39c12');
                            boxGradient.addColorStop(1, '#e67e22');
                            tempCtx1.fillStyle = boxGradient;
                            tempCtx1.fillRect(x, y, 120, 80);
                            
                            // Szczeg√≥≈Çy
                            tempCtx1.strokeStyle = 'rgba(0, 0, 0, 0.2)';
                            tempCtx1.lineWidth = 2;
                            tempCtx1.strokeRect(x + 5, y + 5, 110, 70);
                            
                            tempCtx1.fillStyle = 'rgba(255, 255, 255, 0.7)';
                            tempCtx1.font = 'bold 12px Arial';
                            tempCtx1.textAlign = 'center';
                            tempCtx1.fillText(`#${i * 3 + j + 1}`, x + 60, y + 45);
                        }
                    }
                    
                    // Tytu≈Ç
                    tempCtx1.fillStyle = 'white';
                    tempCtx1.font = 'bold 48px Arial';
                    tempCtx1.textAlign = 'center';
                    tempCtx1.shadowColor = 'rgba(0, 0, 0, 0.5)';
                    tempCtx1.shadowBlur = 10;
                    tempCtx1.fillText('PALETA PRODUKT√ìW', 500, 80);
                    tempCtx1.shadowBlur = 0;
                    
                    this.normalImage.src = tempCanvas1.toDataURL();
                }
                
                if (this.xrayImage.complete && this.xrayImage.naturalWidth === 0) {
                    const tempCanvas2 = document.createElement('canvas');
                    tempCanvas2.width = 1000;
                    tempCanvas2.height = 700;
                    const tempCtx2 = tempCanvas2.getContext('2d');
                    
                    // T≈Ço ciemne
                    tempCtx2.fillStyle = '#0a0a0a';
                    tempCtx2.fillRect(0, 0, 1000, 700);
                    
                    // Efekt ≈õwiecenia t≈Ça
                    const bgGradient = tempCtx2.createRadialGradient(500, 350, 100, 500, 350, 400);
                    bgGradient.addColorStop(0, 'rgba(0, 255, 200, 0.15)');
                    bgGradient.addColorStop(0.5, 'rgba(0, 200, 255, 0.08)');
                    bgGradient.addColorStop(1, 'rgba(0, 100, 200, 0.02)');
                    tempCtx2.fillStyle = bgGradient;
                    tempCtx2.fillRect(0, 0, 1000, 700);
                    
                    // Ramka palety
                    tempCtx2.strokeStyle = '#00ffff';
                    tempCtx2.lineWidth = 3;
                    tempCtx2.shadowColor = '#00ffff';
                    tempCtx2.shadowBlur = 20;
                    tempCtx2.strokeRect(150, 150, 700, 400);
                    tempCtx2.shadowBlur = 0;
                    
                    // Produkty w trybie X-Ray
                    for (let i = 0; i < 4; i++) {
                        for (let j = 0; j < 3; j++) {
                            const x = 200 + i * 160;
                            const y = 200 + j * 120;
                            
                            // ≈öwiecƒÖce kontury
                            tempCtx2.strokeStyle = `rgba(0, 255, 255, ${0.6 + Math.random() * 0.4})`;
                            tempCtx2.lineWidth = 2;
                            tempCtx2.shadowColor = '#00ffff';
                            tempCtx2.shadowBlur = 15;
                            tempCtx2.strokeRect(x, y, 120, 80);
                            
                            // Wewnƒôtrzna struktura
                            tempCtx2.strokeStyle = `rgba(0, 255, 200, ${0.4 + Math.random() * 0.3})`;
                            tempCtx2.lineWidth = 1;
                            tempCtx2.strokeRect(x + 10, y + 10, 100, 60);
                            
                            // Linie wewnƒôtrzne (symulacja zawarto≈õci)
                            for (let k = 0; k < 3; k++) {
                                tempCtx2.beginPath();
                                tempCtx2.moveTo(x + 20, y + 25 + k * 15);
                                tempCtx2.lineTo(x + 100, y + 25 + k * 15);
                                tempCtx2.stroke();
                            }
                            
                            tempCtx2.shadowBlur = 0;
                            
                            // Numer ≈õwiecƒÖcy
                            tempCtx2.fillStyle = '#00ffff';
                            tempCtx2.font = 'bold 16px Arial';
                            tempCtx2.textAlign = 'center';
                            tempCtx2.shadowColor = '#00ffff';
                            tempCtx2.shadowBlur = 10;
                            tempCtx2.fillText(`#${i * 3 + j + 1}`, x + 60, y + 45);
                            tempCtx2.shadowBlur = 0;
                        }
                    }
                    
                    // Tytu≈Ç X-Ray
                    tempCtx2.fillStyle = '#00ffff';
                    tempCtx2.font = 'bold 48px Arial';
                    tempCtx2.textAlign = 'center';
                    tempCtx2.shadowColor = '#00ffff';
                    tempCtx2.shadowBlur = 30;
                    tempCtx2.fillText('X-RAY SCAN', 500, 80);
                    tempCtx2.shadowBlur = 0;
                    
                    // Dodatkowe kropki ≈õwiecƒÖce (efekt czƒÖsteczek)
                    for (let i = 0; i < 50; i++) {
                        const x = Math.random() * 1000;
                        const y = Math.random() * 700;
                        const size = Math.random() * 2 + 1;
                        tempCtx2.fillStyle = `rgba(0, 255, 255, ${Math.random() * 0.6 + 0.2})`;
                        tempCtx2.beginPath();
                        tempCtx2.arc(x, y, size, 0, Math.PI * 2);
                        tempCtx2.fill();
                    }
                    
                    this.xrayImage.src = tempCanvas2.toDataURL();
                }
            }
            
            onImageLoad() {
                this.imagesLoaded++;
                if (this.imagesLoaded === 2) {
                    this.handleResize();
                    this.maskX = this.canvas.width / 2;
                    this.maskY = this.canvas.height / 2;
                    this.targetX = this.maskX;
                    this.targetY = this.maskY;
                    this.startAnimation();
                }
            }
            
            handleResize() {
                if (!this.normalImage || !this.normalImage.complete) return;
                
                const wrapper = this.canvas.parentElement;
                const aspectRatio = this.normalImage.height / this.normalImage.width;
                
                this.canvas.width = wrapper.clientWidth;
                this.canvas.height = this.canvas.width * aspectRatio;
            }
            
            handleMouseMove(e) {
                const rect = this.canvas.getBoundingClientRect();
                this.targetX = (e.clientX - rect.left) * (this.canvas.width / rect.width);
                this.targetY = (e.clientY - rect.top) * (this.canvas.height / rect.height);
            }
            
            updateMaskPosition() {
                if (this.autoMove) {
                    this.autoMoveAngle += this.autoMoveSpeed;
                    
                    const centerX = this.canvas.width / 2;
                    const centerY = this.canvas.height / 2;
                    
                    // Ruch z wariacjami
                    const noise = Math.sin(this.autoMoveAngle * 3) * 40;
                    const noise2 = Math.cos(this.autoMoveAngle * 2) * 30;
                    
                    this.targetX = centerX + Math.cos(this.autoMoveAngle) * (this.autoMoveRadius + noise);
                    this.targetY = centerY + Math.sin(this.autoMoveAngle * 0.8) * (this.autoMoveRadius * 0.7 + noise2);
                }
                
                // P≈Çynne poruszanie
                this.maskX += (this.targetX - this.maskX) * this.smoothing;
                this.maskY += (this.targetY - this.maskY) * this.smoothing;
            }
            
            draw() {
                if (!this.normalImage || !this.xrayImage) return;
                
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Normalny obraz
                this.ctx.drawImage(this.normalImage, 0, 0, this.canvas.width, this.canvas.height);
                
                // Zapisz stan
                this.ctx.save();
                
                // Maska okrƒÖg≈Ça
                this.ctx.beginPath();
                this.ctx.arc(this.maskX, this.maskY, this.maskRadius, 0, Math.PI * 2);
                this.ctx.closePath();
                this.ctx.clip();
                
                // Obraz X-Ray w masce
                this.ctx.drawImage(this.xrayImage, 0, 0, this.canvas.width, this.canvas.height);
                
                // Przywr√≥ƒá stan
                this.ctx.restore();
                
                // Ramka okrƒôgu - zewnƒôtrzna
                this.ctx.beginPath();
                this.ctx.arc(this.maskX, this.maskY, this.maskRadius, 0, Math.PI * 2);
                this.ctx.strokeStyle = 'rgba(0, 255, 255, 0.8)';
                this.ctx.lineWidth = 3;
                this.ctx.shadowColor = '#00ffff';
                this.ctx.shadowBlur = 15;
                this.ctx.stroke();
                
                // Dodatkowa ramka ≈õwiecƒÖca
                this.ctx.beginPath();
                this.ctx.arc(this.maskX, this.maskY, this.maskRadius + 8, 0, Math.PI * 2);
                this.ctx.strokeStyle = 'rgba(0, 255, 255, 0.3)';
                this.ctx.lineWidth = 2;
                this.ctx.shadowBlur = 25;
                this.ctx.stroke();
                
                this.ctx.shadowBlur = 0;
                
                // Punkt ≈õrodkowy
                this.ctx.beginPath();
                this.ctx.arc(this.maskX, this.maskY, 5, 0, Math.PI * 2);
                this.ctx.fillStyle = 'rgba(0, 255, 255, 0.6)';
                this.ctx.fill();
            }
            
            animate() {
                this.updateMaskPosition();
                this.draw();
                this.animationFrame = requestAnimationFrame(() => this.animate());
            }
            
            startAnimation() {
                if (this.animationFrame) {
                    cancelAnimationFrame(this.animationFrame);
                }
                this.animate();
            }
            
            updateAutoMoveButton() {
                const btn = document.getElementById('toggleAutoMove');
                if (this.autoMove) {
                    btn.textContent = '‚è∏ Zatrzymaj auto-ruch';
                    btn.classList.remove('active');
                } else {
                    btn.textContent = '‚ñ∂ W≈ÇƒÖcz auto-ruch';
                    btn.classList.add('active');
                }
            }
            
            loadCustomImages(normalImageUrl, xrayImageUrl) {
                this.imagesLoaded = 0;
                
                this.normalImage = new Image();
                this.normalImage.crossOrigin = 'anonymous';
                this.normalImage.onload = () => this.onImageLoad();
                this.normalImage.src = normalImageUrl;
                
                this.xrayImage = new Image();
                this.xrayImage.crossOrigin = 'anonymous';
                this.xrayImage.onload = () => this.onImageLoad();
                this.xrayImage.src = xrayImageUrl;
            }
        }
        
        // Inicjalizacja
        const xrayEffect = new XRayEffect('xrayCanvas');
        
        // Kontrolki
        document.getElementById('toggleAutoMove').addEventListener('click', function() {
            xrayEffect.autoMove = !xrayEffect.autoMove;
            xrayEffect.updateAutoMoveButton();
        });
        
        document.getElementById('radiusSlider').addEventListener('input', function(e) {
            xrayEffect.maskRadius = parseInt(e.target.value);
            document.getElementById('radiusValue').textContent = e.target.value;
        });
        
        document.getElementById('speedSlider').addEventListener('input', function(e) {
            xrayEffect.autoMoveSpeed = parseInt(e.target.value) / 100;
            document.getElementById('speedValue').textContent = e.target.value;
        });
        
        // Mo≈ºliwo≈õƒá za≈Çadowania w≈Çasnych obraz√≥w
        // xrayEffect.loadCustomImages('path/to/normal.jpg', 'path/to/xray.jpg');
    </script>
</body>
</html>

